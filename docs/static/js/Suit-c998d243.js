import{d as ne,r as i,k as le,j as oe,V as l,W as o,X as t,o as n,Y as s,b as p,Q as e,e as D,$ as S,z as R,v as T,G as r,c as x,O as M,F as U,a4 as ue,a0 as ie,a2 as re,s as N,Z as ce,_ as pe}from"./@vue-79a6a370.js";import{W as de}from"./WavesEffectCard-fafd3759.js";import{c as _e,M as me,I as ve,N as ye,q as fe,_ as he}from"./plugin-vueexport-helper-6330f72e.js";import{C as ge}from"./CommonIcon-134dec63.js";import{G as we}from"./GitEidtButton-6fa4ecf2.js";import{e as ze}from"./index-2cd05052.js";import{A as ke}from"./@vicons-79aff705.js";import{e as Se,u as xe}from"./naive-ui-fa278d27.js";import"./lodash-4ca19532.js";import"./date-fns-f8897e89.js";import"./moment-b35f754a.js";import"./mitt-dab1f1cb.js";import"./vuex-5ff92b45.js";import"./vue-router-4297e4b4.js";import"./css-render-72c8a4e0.js";import"./@emotion-e1dc9e92.js";import"./@css-render-ca6fedfc.js";import"./seemly-598f553b.js";import"./lodash-es-86019d98.js";import"./vooks-ed236956.js";import"./evtd-6b3c7fca.js";import"./vueuc-0daedfc4.js";import"./vdirs-943cc171.js";import"./@juggle-28bbed7a.js";import"./treemate-97ea80b9.js";import"./date-fns-tz-38009909.js";import"./async-validator-9e2b95c0.js";const V=C=>(ce("data-v-700e8174"),C=C(),pe(),C),Ce={class:"header-edit-area"},Ee=V(()=>p("h2",null,"\u9A71\u52A8\u76D8",-1)),Fe={class:"line-area"},Ae=V(()=>p("div",{class:"label"},"2\u4EF6\u5957",-1)),be={class:"info"},De={class:"line-area"},Ne=V(()=>p("div",{class:"label"},"4\u4EF6\u5957",-1)),Ze={class:"info"},Be=ne({__name:"Suit",setup(C){const f=i(_e()),_=i(!1),Z=Se(),W=xe(),B=i({});let j=!0,z=i({pageNum:1,pageSize:100}),m=i(j),E=i(""),F=i(-2),A=i(0),k=i([]),v=i(`
    ${f.value?"margin: 20px;":"margin:2px; gap: 8px 5px;"}
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
  `);const P=a=>{F.value=a,h(1)},O=a=>{E.value=a},Q=a=>{h(1)},X=()=>{E.value="",F.value=-2,h(1)},Y=a=>{z.value.pageSize=a,h(1)},H=a=>[N("div",{style:{display:"flex",alignItems:"center"}},{default:()=>[a.value>0?N(ge,{url:B.value[a.value].icon_url,size:30},{default:()=>N("")}):void 0,N("span",{},{default:()=>a.label})]})],q=i({}),G=async()=>{Z.start(),_.value=!0;let a={name:E.value,suit:F.value,page:z.value},{code:g,data:d,msg:I}=await ye(a);if(g!=200){W.error(I),setTimeout(()=>{Z.finish()},500),_.value=!1;return}A.value=d.total;const{zzz_base:b,zzz_url:c}=await fe(),$=`${b}${c}`;k.value=d==null?void 0:d.records.map(y=>(y.surl=$.replace("{id}",y.mhy_url),y.imgSrc=y.icon_url,y)),setTimeout(()=>{Z.finish()},500),_.value=!1},h=async a=>{z.value.pageNum=a,k.value=[],A.value=0,G()};return le(async()=>{B.value={},me.forEach(a=>{B.value[a.id]=a}),q.value=await ve()}),oe(()=>{G()}),(a,g)=>{const d=l("n-skeleton"),I=l("n-gradient-text"),b=l("n-layout-header"),c=l("n-space"),$=l("n-select"),y=l("n-input"),K=l("n-button"),J=l("n-divider"),ee=l("n-icon"),te=l("n-empty"),ae=l("n-layout-content"),se=l("n-pagination"),L=l("n-layout");return n(),o(L,null,{default:t(()=>[s(b,{class:"header-top"},{default:t(()=>[p("div",null,[p("div",Ce,[Ee,s(we,{path:e(ze).ZZZ.Suit},null,8,["path"])]),_.value?(n(),o(d,{key:0,width:150,sharp:!1,size:"medium"})):(n(),o(I,{key:1,gradient:{from:"rgb(85, 85, 85)",to:"rgb(170, 170, 170)"}},{default:t(()=>[D(" \u5171"+S(e(A))+"\u4F4D\uFF0C\u5DF2\u5C55\u793A"+S(e(k).length)+"\u4E2A ",1)]),_:1},8,["gradient"]))])]),_:1}),s(L,null,{default:t(()=>[s(b,null,{default:t(()=>[_.value?R((n(),o(c,{key:0,style:r(e(v))},{default:t(()=>[(n(!0),x(U,null,M(new Array(8),(u,w)=>(n(),o(d,{key:w,width:200,sharp:!1,size:"medium"}))),128))]),_:1},8,["style"])),[[T,e(m)]]):R((n(),o(c,{key:1,class:"space-main",style:r(e(v))},{default:t(()=>{var u;return[s($,{"render-label":H,value:e(F),"onUpdate:value":P,options:(u=q.value)==null?void 0:u.suit,style:r(f.value?"width: 200px":"")},null,8,["value","options","style"]),s(y,{value:e(E),onKeyup:ue(Q,["enter"]),"onUpdate:value":O,type:"text",placeholder:"\u641C\u7D22\u5173\u952E\u5B57",style:r(f.value?"width: 200px":"min-width: 200px;")},null,8,["value","onKeyup","style"]),s(c,{style:r(f.value?"flex:1;":"min-width: 200px;")},{default:t(()=>[s(K,{type:"success",style:{width:"84px"},onClick:g[0]||(g[0]=w=>h(1))},{default:t(()=>[D("\u641C\u7D22")]),_:1}),s(K,{type:"warning",onClick:X},{default:t(()=>[D("\u91CD\u7F6E\u6761\u4EF6")]),_:1})]),_:1},8,["style"])]}),_:1},8,["style"])),[[T,e(m)]]),f.value?re("",!0):(n(),o(J,{key:2,onClick:g[1]||(g[1]=u=>ie(m)?m.value=!e(m):m=!e(m))},{default:t(()=>[D(S(e(m)?"\u6536\u8D77\u641C\u7D22":"\u5C55\u5F00\u641C\u7D22"),1)]),_:1}))]),_:1}),s(ae,{"has-sider":""},{default:t(()=>[_.value?(n(),o(c,{key:0,style:r(e(v))},{default:t(()=>[(n(!0),x(U,null,M(new Array(20),(u,w)=>(n(),x("div",{key:w},[s(d,{width:100,height:123,sharp:!1,size:"medium"})]))),128))]),_:1},8,["style"])):!_.value&&e(k).length>0?(n(),o(c,{key:1,style:r(e(v))},{default:t(()=>[(n(!0),x(U,null,M(e(k),(u,w)=>(n(),x("div",{key:w,style:{display:"flex",height:"100%"}},[s(de,{src:u.imgSrc,item:u,url:u.surl,style:{height:"100%"}},{default:t(()=>[p("div",{class:"effect-info-area",style:r(`${f.value?"width: 15vw;":"width: 30vw;"}`)},[p("div",Fe,[Ae,p("div",be,S(u.suit2),1)]),p("div",De,[Ne,p("div",Ze,S(u.suit4),1)])],4)]),_:2},1032,["src","item","url"])]))),128))]),_:1},8,["style"])):(n(),o(c,{key:2,style:r([{width:"100%"},e(v)])},{default:t(()=>[s(te,{description:"\u6240\u9009\u6761\u4EF6\u7684\u6570\u636E\u4E3A\u7A7A"},{icon:t(()=>[s(ee,null,{default:t(()=>[s(e(ke))]),_:1})]),_:1})]),_:1},8,["style"]))]),_:1}),s(L,{"content-style":"overflow-x: scroll;"},{default:t(()=>[_.value?(n(),o(c,{key:0,style:r(e(v))},{default:t(()=>[s(d,{width:300,sharp:!1,size:"medium"})]),_:1},8,["style"])):(n(),o(c,{key:1,style:r(e(v))},{default:t(()=>[s(se,{page:e(z).pageNum,"page-size":e(z).pageSize,"item-count":e(A),"on-update:page":h,"show-size-picker":"","page-sizes":[10,50,100,150],"on-update:page-size":Y},null,8,["page","page-size","item-count"])]),_:1},8,["style"]))]),_:1})]),_:1})]),_:1})}}});const ut=he(Be,[["__scopeId","data-v-700e8174"]]);export{ut as default};
