import{d as ee,r as u,k as te,j as ae,V as s,W as l,X as t,o as a,Y as n,b as $,Q as e,e as S,$ as Z,z as M,v as G,G as i,c as z,O as L,F as R,a4 as ne,a0 as le,a2 as oe}from"./@vue-79a6a370.js";import{B as se,a as ue}from"./BlueUrlSelect-cbe07a09.js";import{c as ie,I as re,L as pe,q as ce}from"./plugin-vueexport-helper-6330f72e.js";import{G as me}from"./GitEidtButton-6fa4ecf2.js";import{e as de}from"./index-2cd05052.js";import{A as _e}from"./@vicons-79aff705.js";import{e as ye,u as ve}from"./naive-ui-fa278d27.js";import"./lodash-4ca19532.js";import"./date-fns-f8897e89.js";import"./moment-b35f754a.js";import"./mitt-dab1f1cb.js";import"./vuex-5ff92b45.js";import"./vue-router-4297e4b4.js";import"./css-render-72c8a4e0.js";import"./@emotion-e1dc9e92.js";import"./@css-render-ca6fedfc.js";import"./seemly-598f553b.js";import"./lodash-es-86019d98.js";import"./vooks-ed236956.js";import"./evtd-6b3c7fca.js";import"./vueuc-0daedfc4.js";import"./vdirs-943cc171.js";import"./@juggle-28bbed7a.js";import"./treemate-97ea80b9.js";import"./date-fns-tz-38009909.js";import"./async-validator-9e2b95c0.js";const fe={class:"header-edit-area"},he=$("h2",null,"\u90A6\u5E03",-1),Oe=ee({__name:"Bangboo",setup(ge){const h=u(ie()),c=u(!1),A=ye(),I=ve();let d=u(!0),x=u(""),D=u(-2),E=u(-2),k=u({pageNum:1,pageSize:100}),C=u(0),w=u([]),y=u(`
    ${h.value?"margin: 20px;":"margin:2px;"}
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
  `);const K=o=>{D.value=o,v(1)},P=o=>{E.value=o,v(1)},j=o=>{x.value=o},T=o=>{v(1)},O=()=>{x.value="",v(1)},Q=o=>{k.value.pageSize=o,v(1)},F=u({}),V=async()=>{A.start(),c.value=!0;let o={name:x.value,star:E.value,element:D.value,page:k.value},{code:g,data:r,msg:N}=await pe(o);if(g!=200){I.error(N),A.finish(),c.value=!1;return}C.value=r.total;const{zzz_base:B,zzz_url:p}=await ce(),b=`${B}${p}`;w.value=r==null?void 0:r.records.map(f=>(f.mhy_URL=b.replace("{id}",f.mhy_url),f.imgSrc=f.icon_url,f)),setTimeout(()=>{A.finish()},500),c.value=!1},v=async o=>{k.value.pageNum=o,w.value=[],C.value=0,V()};return te(async()=>{F.value=await re()}),ae(()=>{V()}),(o,g)=>{const r=s("n-skeleton"),N=s("n-gradient-text"),B=s("n-layout-header"),p=s("n-space"),b=s("n-select"),f=s("n-input"),q=s("n-button"),W=s("n-divider"),X=s("n-icon"),Y=s("n-empty"),H=s("n-layout-content"),J=s("n-pagination"),U=s("n-layout");return a(),l(U,null,{default:t(()=>[n(B,{class:"header-top"},{default:t(()=>[$("div",null,[$("div",fe,[he,n(me,{path:e(de).ZZZ.Bangboo},null,8,["path"])]),c.value?(a(),l(r,{key:0,width:150,sharp:!1,size:"medium"})):(a(),l(N,{key:1,gradient:{from:"rgb(85, 85, 85)",to:"rgb(170, 170, 170)"}},{default:t(()=>[S(" \u5171"+Z(e(C))+"\u4F4D\uFF0C\u5DF2\u5C55\u793A"+Z(e(w).length)+"\u4E2A ",1)]),_:1},8,["gradient"]))]),c.value?(a(),l(r,{key:0,width:300,sharp:!1,size:"medium"})):(a(),l(se,{key:1}))]),_:1}),n(U,null,{default:t(()=>[n(B,null,{default:t(()=>[c.value?M((a(),l(p,{key:0,style:i(e(y))},{default:t(()=>[(a(!0),z(R,null,L(new Array(4),(m,_)=>(a(),l(r,{key:_,width:200,sharp:!1,size:"medium"}))),128))]),_:1},8,["style"])),[[G,e(d)]]):M((a(),l(p,{key:1,class:"space-main",style:i(e(y))},{default:t(()=>{var m,_;return[n(b,{value:e(E),"onUpdate:value":P,options:(m=F.value)==null?void 0:m.star,style:i(h.value?"width: 200px":"")},null,8,["value","options","style"]),n(b,{value:e(D),"onUpdate:value":K,options:(_=F.value)==null?void 0:_.element,style:i(h.value?"width: 200px":"")},null,8,["value","options","style"]),n(f,{value:e(x),onKeyup:ne(T,["enter"]),"onUpdate:value":j,type:"text",placeholder:"\u641C\u7D22\u90A6\u5E03\u7684\u540D\u79F0",style:i(h.value?"width: 200px":"min-width: 200px;")},null,8,["value","onKeyup","style"]),n(p,{style:i(h.value?"flex:1;":"min-width: 200px;")},{default:t(()=>[n(q,{type:"success",style:{width:"84px"},onClick:g[0]||(g[0]=ke=>v(1))},{default:t(()=>[S("\u641C\u7D22")]),_:1}),n(q,{type:"warning",onClick:O},{default:t(()=>[S("\u91CD\u7F6E\u6761\u4EF6")]),_:1})]),_:1},8,["style"])]}),_:1},8,["style"])),[[G,e(d)]]),h.value?oe("",!0):(a(),l(W,{key:2,onClick:g[1]||(g[1]=m=>le(d)?d.value=!e(d):d=!e(d))},{default:t(()=>[S(Z(e(d)?"\u6536\u8D77\u641C\u7D22":"\u5C55\u5F00\u641C\u7D22"),1)]),_:1}))]),_:1}),n(H,{"has-sider":""},{default:t(()=>[c.value?(a(),l(p,{key:0,style:i(e(y))},{default:t(()=>[(a(!0),z(R,null,L(new Array(20),(m,_)=>(a(),z("div",{key:_},[n(r,{width:100,height:123,sharp:!1,size:"medium"})]))),128))]),_:1},8,["style"])):!c.value&&e(w).length>0?(a(),l(p,{key:1,style:i(e(y))},{default:t(()=>[(a(!0),z(R,null,L(e(w),(m,_)=>(a(),z("div",{key:_},[n(ue,{src:m.imgSrc,item:m,url:m.wiki_URL,"img-list":[]},null,8,["src","item","url"])]))),128))]),_:1},8,["style"])):(a(),l(p,{key:2,style:i([{width:"100%"},e(y)])},{default:t(()=>[n(Y,{description:"\u6240\u9009\u6761\u4EF6\u7684\u6570\u636E\u4E3A\u7A7A"},{icon:t(()=>[n(X,null,{default:t(()=>[n(e(_e))]),_:1})]),_:1})]),_:1},8,["style"]))]),_:1}),n(U,{"content-style":"overflow-x: scroll;"},{default:t(()=>[c.value?(a(),l(p,{key:0,style:i(e(y))},{default:t(()=>[n(r,{width:300,sharp:!1,size:"medium"})]),_:1},8,["style"])):(a(),l(p,{key:1,style:i(e(y))},{default:t(()=>[n(J,{page:e(k).pageNum,"page-size":e(k).pageSize,"item-count":e(C),"on-update:page":v,"show-size-picker":"","page-sizes":[10,50,100,150],"on-update:page-size":Q},null,8,["page","page-size","item-count"])]),_:1},8,["style"]))]),_:1})]),_:1})]),_:1})}}});export{Oe as default};
