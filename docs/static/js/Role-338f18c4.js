import{d as se,r as o,k as re,j as ie,V as u,W as r,X as a,o as n,Y as t,b as q,Q as e,e as N,$ as b,z as K,v as T,G as s,c as C,O as $,F as V,a4 as pe,a0 as ce,a2 as me}from"./@vue-79a6a370.js";import{P as de}from"./PicCard-bccf8d91.js";import{c as _e,I as ye,J as ve,q as he}from"./plugin-vueexport-helper-6330f72e.js";import{u as fe}from"./vue-router-4297e4b4.js";import{G as ge}from"./GitEidtButton-6fa4ecf2.js";import{e as we}from"./index-2cd05052.js";import{A as ke}from"./@vicons-79aff705.js";import{e as xe,u as ze}from"./naive-ui-fa278d27.js";import"./lodash-4ca19532.js";import"./date-fns-f8897e89.js";import"./moment-b35f754a.js";import"./mitt-dab1f1cb.js";import"./vuex-5ff92b45.js";import"./css-render-72c8a4e0.js";import"./@emotion-e1dc9e92.js";import"./@css-render-ca6fedfc.js";import"./seemly-598f553b.js";import"./lodash-es-86019d98.js";import"./vooks-ed236956.js";import"./evtd-6b3c7fca.js";import"./vueuc-0daedfc4.js";import"./vdirs-943cc171.js";import"./@juggle-28bbed7a.js";import"./treemate-97ea80b9.js";import"./date-fns-tz-38009909.js";import"./async-validator-9e2b95c0.js";const Ce={class:"header-edit-area"},Ee=q("h2",null,"\u4EE3\u7406\u4EBA",-1),et=se({__name:"Role",setup(Ae){const d=o(_e()),_=o(!1),U=xe(),j=ze();fe();let W=!0,k=o({pageNum:1,pageSize:100}),y=o(W),E=o(""),A=o(-2),D=o(-2),F=o(-2),R=o(-2),S=o(0),x=o([]),h=o(`
    ${d.value?"margin: 20px;":"margin:2px; gap: 8px 5px;"}
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
  `);const J=l=>{D.value=l,p(1)},O=l=>{F.value=l,p(1)},Q=l=>{A.value=l,p(1)},X=l=>{R.value=l,p(1)},Y=l=>{E.value=l},H=l=>{p(1)},ee=()=>{E.value="",D.value=F.value=A.value=R.value=-2,p(1)},te=l=>{k.value.pageSize=l,p(1)},z=o({}),M=async()=>{U.start(),_.value=!0;let l={name:E.value,element:A.value,area:D.value,weapon:F.value,star:R.value,page:k.value},{code:g,data:c,msg:Z}=await ve(l);if(g!=200){j.error(Z),setTimeout(()=>{U.finish()},500),_.value=!1;return}S.value=c.total;const{zzz_base:B,zzz_url:i}=await he(),w=`${B}${i}`;x.value=c==null?void 0:c.records.map(f=>(f.mhy_URL=w.replace("{id}",f.mhy_url),f.imgSrc=f.icon_url,f)),setTimeout(()=>{U.finish()},500),_.value=!1},p=async l=>{k.value.pageNum=l,x.value=[],S.value=0,M()};return re(async()=>{z.value=await ye()}),ie(()=>{M()}),(l,g)=>{const c=u("n-skeleton"),Z=u("n-gradient-text"),B=u("n-layout-header"),i=u("n-space"),w=u("n-select"),f=u("n-input"),P=u("n-button"),ae=u("n-divider"),le=u("n-icon"),ne=u("n-empty"),oe=u("n-layout-content"),ue=u("n-pagination"),L=u("n-layout");return n(),r(L,null,{default:a(()=>[t(B,{class:"header-top"},{default:a(()=>[q("div",null,[q("div",Ce,[Ee,t(ge,{path:e(we).ZZZ.Role},null,8,["path"])]),_.value?(n(),r(c,{key:0,width:150,sharp:!1,size:"medium"})):(n(),r(Z,{key:1,gradient:{from:"rgb(85, 85, 85)",to:"rgb(170, 170, 170)"}},{default:a(()=>[N(" \u5171"+b(e(S))+"\u4F4D\uFF0C\u5DF2\u5C55\u793A"+b(e(x).length)+"\u4F4D ",1)]),_:1},8,["gradient"]))])]),_:1}),t(L,null,{default:a(()=>[t(B,null,{default:a(()=>[_.value?K((n(),r(i,{key:0,style:s(e(h))},{default:a(()=>[(n(!0),C(V,null,$(new Array(8),(m,v)=>(n(),r(c,{key:v,width:200,sharp:!1,size:"medium"}))),128))]),_:1},8,["style"])),[[T,e(y)]]):K((n(),r(i,{key:1,class:"space-main",style:s(e(h))},{default:a(()=>{var m,v,G,I;return[t(w,{value:e(D),"onUpdate:value":J,options:(m=z.value)==null?void 0:m.area,style:s(d.value?"width: 200px":"")},null,8,["value","options","style"]),t(w,{value:e(R),"onUpdate:value":X,options:(v=z.value)==null?void 0:v.star,style:s(d.value?"width: 200px":"")},null,8,["value","options","style"]),t(w,{value:e(F),"onUpdate:value":O,options:(G=z.value)==null?void 0:G.weapon,style:s(d.value?"width: 200px":"")},null,8,["value","options","style"]),t(w,{value:e(A),"onUpdate:value":Q,options:(I=z.value)==null?void 0:I.element,style:s(d.value?"width: 200px":"")},null,8,["value","options","style"]),t(f,{value:e(E),onKeyup:pe(H,["enter"]),"onUpdate:value":Y,type:"text",placeholder:"\u641C\u7D22\u4EE3\u7406\u4EBA\u540D",style:s(d.value?"width: 200px":"min-width: 200px;")},null,8,["value","onKeyup","style"]),t(i,{style:s(d.value?"flex:1;":"min-width: 200px;")},{default:a(()=>[t(P,{type:"success",style:{width:"84px"},onClick:g[0]||(g[0]=De=>p(1))},{default:a(()=>[N("\u641C\u7D22")]),_:1}),t(P,{type:"warning",onClick:ee},{default:a(()=>[N("\u91CD\u7F6E\u6761\u4EF6")]),_:1})]),_:1},8,["style"])]}),_:1},8,["style"])),[[T,e(y)]]),d.value?me("",!0):(n(),r(ae,{key:2,onClick:g[1]||(g[1]=m=>ce(y)?y.value=!e(y):y=!e(y))},{default:a(()=>[N(b(e(y)?"\u6536\u8D77\u641C\u7D22":"\u5C55\u5F00\u641C\u7D22"),1)]),_:1}))]),_:1}),t(oe,{"has-sider":""},{default:a(()=>[_.value?(n(),r(i,{key:0,style:s(e(h))},{default:a(()=>[(n(!0),C(V,null,$(new Array(20),(m,v)=>(n(),C("div",{key:v},[t(c,{width:100,height:123,sharp:!1,size:"medium"})]))),128))]),_:1},8,["style"])):!_.value&&e(x).length>0?(n(),r(i,{key:1,style:s(e(h))},{default:a(()=>[(n(!0),C(V,null,$(e(x),(m,v)=>(n(),C("div",{key:v},[t(de,{src:m.imgSrc,item:m,mhy_url:m.mhy_URL,wiki_url:"-"},null,8,["src","item","mhy_url"])]))),128))]),_:1},8,["style"])):(n(),r(i,{key:2,style:s([{width:"100%"},e(h)])},{default:a(()=>[t(ne,{description:"\u6240\u9009\u6761\u4EF6\u7684\u6570\u636E\u4E3A\u7A7A"},{icon:a(()=>[t(le,null,{default:a(()=>[t(e(ke))]),_:1})]),_:1})]),_:1},8,["style"]))]),_:1}),t(L,{"content-style":"overflow-x: scroll;"},{default:a(()=>[_.value?(n(),r(i,{key:0,style:s(e(h))},{default:a(()=>[t(c,{width:300,sharp:!1,size:"medium"})]),_:1},8,["style"])):(n(),r(i,{key:1,style:s(e(h))},{default:a(()=>[t(ue,{page:e(k).pageNum,"page-size":e(k).pageSize,"item-count":e(S),"on-update:page":p,"show-size-picker":"","page-sizes":[10,50,100,150],"on-update:page-size":te},null,8,["page","page-size","item-count"])]),_:1},8,["style"]))]),_:1})]),_:1})]),_:1})}}});export{et as default};
