import{d as de,r as u,k as ve,j as _e,V as o,W as i,X as l,o as n,Y as a,b as j,Q as e,e as I,$ as V,z as H,v as O,G as s,c as E,O as q,F as M,a4 as ye,a0 as fe,a2 as ge,s as f}from"./@vue-79a6a370.js";import{W as he}from"./WavesCard-92c2fa63.js";import{c as we,A as Ce,B as ke,q as xe}from"./plugin-vueexport-helper-6330f72e.js";import{C as Q}from"./CommonIcon-134dec63.js";import{w as De}from"./waves_select_item-287c6662.js";import{e as Ee,F as ze}from"./index-2cd05052.js";import{G as Fe}from"./GitEidtButton-6fa4ecf2.js";import{A as Se}from"./@vicons-79aff705.js";import{e as Be,u as be}from"./naive-ui-fa278d27.js";import"./lodash-4ca19532.js";import"./date-fns-f8897e89.js";import"./moment-b35f754a.js";import"./mitt-dab1f1cb.js";import"./vuex-5ff92b45.js";import"./vue-router-4297e4b4.js";import"./css-render-72c8a4e0.js";import"./@emotion-e1dc9e92.js";import"./@css-render-ca6fedfc.js";import"./seemly-598f553b.js";import"./lodash-es-86019d98.js";import"./vooks-ed236956.js";import"./evtd-6b3c7fca.js";import"./vueuc-0daedfc4.js";import"./vdirs-943cc171.js";import"./@juggle-28bbed7a.js";import"./treemate-97ea80b9.js";import"./date-fns-tz-38009909.js";import"./async-validator-9e2b95c0.js";const Ae=[{id:0,name:"\u6C14\u52A8",icon_url:"img/\u6C14\u52A8.png"},{id:1,name:"\u5BFC\u7535",icon_url:"img/\u5BFC\u7535.png"},{id:2,name:"\u51B7\u51DD",icon_url:"img/\u51B7\u51DD.png"},{id:3,name:"\u70ED\u7194",icon_url:"img/\u70ED\u7194.png"},{id:4,name:"\u884D\u5C04",icon_url:"img/\u884D\u5C04.png"},{id:5,name:"\u6E6E\u706D",icon_url:"img/\u6E6E\u706D.png"}],Ne={class:"header-edit-area"},Ie=j("h2",null,"\u89D2\u8272",-1),pt=de({__name:"Role",setup(Le){const p=u(we());let L=u(0),R=u(0);p.value?(L.value=117,R.value=156):(L.value=45,R.value=76);const v=u(!1),U=Be(),X=be();let Y=!0,k=u({pageNum:1,pageSize:100}),_=u(Y),z=u(""),F=u(-2),S=u(-2),B=u(-2),b=u(-2),A=u(0),x=u([]),g=u(`
    ${p.value?"margin: 20px;":"margin:2px; gap: 8px 5px;"}
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
  `);const J=t=>{S.value=t,m(1)},Z=t=>{B.value=t,m(1)},ee=t=>{F.value=t,m(1)},te=t=>{b.value=t,m(1)},ae=t=>{z.value=t},le=t=>{m(1)},ne=()=>{z.value="",B.value=S.value=F.value=b.value=-2,m(1)},ue=t=>{k.value.pageSize=t,m(1)},oe=t=>[f("div",{style:{display:"flex",alignItems:"center"}},{default:()=>[t.value>-1?f(Q,{url:De[t.value].icon_url,size:30},{default:()=>f("")}):void 0,f("span",{},{default:()=>t.label})]})],se=t=>[f("div",{style:{display:"flex",alignItems:"center"}},{default:()=>[t.value>-1?f(Q,{url:ze+Ae[t.value].icon_url,size:30},{default:()=>f("")}):void 0,f("span",{},{default:()=>t.label})]})],D=u({}),G=async()=>{U.start(),v.value=!0;let t={name:z.value,element:F.value,item:S.value,weapon:B.value,star:b.value,page:k.value},{code:w,data:c,msg:W}=await ke(t);if(w!=200){X.error(W),setTimeout(()=>{U.finish()},500),v.value=!1;return}A.value=c.total;const{waves_base:N,waves_url:r}=await xe(),C=`${N}${r}`;x.value=c==null?void 0:c.records.map(h=>(h.surl=C.replace("{id}",h.url),h.imgSrc=h.icon_url,h)),setTimeout(()=>{U.finish()},500),v.value=!1},m=async t=>{k.value.pageNum=t,x.value=[],A.value=0,G()};return ve(async()=>{D.value=await Ce()}),_e(()=>{G()}),(t,w)=>{const c=o("n-skeleton"),W=o("n-gradient-text"),N=o("n-layout-header"),r=o("n-space"),C=o("n-select"),h=o("n-input"),K=o("n-button"),ie=o("n-divider"),re=o("n-icon"),pe=o("n-empty"),me=o("n-layout-content"),ce=o("n-pagination"),$=o("n-layout");return n(),i($,null,{default:l(()=>[a(N,{class:"header-top"},{default:l(()=>[j("div",null,[j("div",Ne,[Ie,a(Fe,{path:e(Ee).Waves.Role},null,8,["path"])]),v.value?(n(),i(c,{key:0,width:150,sharp:!1,size:"medium"})):(n(),i(W,{key:1,gradient:{from:"rgb(85, 85, 85)",to:"rgb(170, 170, 170)"}},{default:l(()=>[I(" \u5171"+V(e(A))+"\u4F4D\uFF0C\u5DF2\u5C55\u793A"+V(e(x).length)+"\u4F4D ",1)]),_:1},8,["gradient"]))])]),_:1}),a($,null,{default:l(()=>[a(N,null,{default:l(()=>[v.value?H((n(),i(r,{key:0,style:s(e(g))},{default:l(()=>[(n(!0),E(M,null,q(new Array(8),(d,y)=>(n(),i(c,{key:y,width:200,sharp:!1,size:"medium"}))),128))]),_:1},8,["style"])),[[O,e(_)]]):H((n(),i(r,{key:1,class:"space-main",style:s(e(g))},{default:l(()=>{var d,y,T,P;return[a(C,{value:e(b),"onUpdate:value":te,options:(d=D.value)==null?void 0:d.star,style:s(p.value?"width: 200px":"")},null,8,["value","options","style"]),a(C,{"render-label":se,value:e(F),"onUpdate:value":ee,options:(y=D.value)==null?void 0:y.element,style:s(p.value?"width: 200px":"")},null,8,["value","options","style"]),a(C,{value:e(B),"onUpdate:value":Z,options:(T=D.value)==null?void 0:T.weapon,style:s(p.value?"width: 200px":"")},null,8,["value","options","style"]),a(C,{"render-label":oe,value:e(S),"onUpdate:value":J,options:(P=D.value)==null?void 0:P.item,style:s(p.value?"width: 200px":"")},null,8,["value","options","style"]),a(h,{value:e(z),onKeyup:ye(le,["enter"]),"onUpdate:value":ae,type:"text",placeholder:"\u641C\u7D22\u89D2\u8272\u540D",style:s(p.value?"width: 200px":"min-width: 200px;")},null,8,["value","onKeyup","style"]),a(r,{style:s(p.value?"flex:1;":"min-width: 200px;")},{default:l(()=>[a(K,{type:"success",style:{width:"84px"},onClick:w[0]||(w[0]=Re=>m(1))},{default:l(()=>[I("\u641C\u7D22")]),_:1}),a(K,{type:"warning",onClick:ne},{default:l(()=>[I("\u91CD\u7F6E\u6761\u4EF6")]),_:1})]),_:1},8,["style"])]}),_:1},8,["style"])),[[O,e(_)]]),p.value?ge("",!0):(n(),i(ie,{key:2,onClick:w[1]||(w[1]=d=>fe(_)?_.value=!e(_):_=!e(_))},{default:l(()=>[I(V(e(_)?"\u6536\u8D77\u641C\u7D22":"\u5C55\u5F00\u641C\u7D22"),1)]),_:1}))]),_:1}),a(me,{"has-sider":""},{default:l(()=>[v.value?(n(),i(r,{key:0,style:s(e(g))},{default:l(()=>[(n(!0),E(M,null,q(new Array(20),(d,y)=>(n(),E("div",{key:y},[a(c,{width:100,height:123,sharp:!1,size:"medium"})]))),128))]),_:1},8,["style"])):!v.value&&e(x).length>0?(n(),i(r,{key:1,style:s(e(g))},{default:l(()=>[(n(!0),E(M,null,q(e(x),(d,y)=>(n(),E("div",{key:y},[a(he,{width:e(L),height:e(R),src:d.imgSrc,item:d,url:d.surl,objectFit:"contain"},null,8,["width","height","src","item","url"])]))),128))]),_:1},8,["style"])):(n(),i(r,{key:2,style:s([{width:"100%"},e(g)])},{default:l(()=>[a(pe,{description:"\u6240\u9009\u6761\u4EF6\u7684\u6570\u636E\u4E3A\u7A7A"},{icon:l(()=>[a(re,null,{default:l(()=>[a(e(Se))]),_:1})]),_:1})]),_:1},8,["style"]))]),_:1}),a($,{"content-style":"overflow-x: scroll;"},{default:l(()=>[v.value?(n(),i(r,{key:0,style:s(e(g))},{default:l(()=>[a(c,{width:300,sharp:!1,size:"medium"})]),_:1},8,["style"])):(n(),i(r,{key:1,style:s(e(g))},{default:l(()=>[a(ce,{page:e(k).pageNum,"page-size":e(k).pageSize,"item-count":e(A),"on-update:page":m,"show-size-picker":"","page-sizes":[10,50,100,150],"on-update:page-size":ue},null,8,["page","page-size","item-count"])]),_:1},8,["style"]))]),_:1})]),_:1})]),_:1})}}});export{pt as default};
